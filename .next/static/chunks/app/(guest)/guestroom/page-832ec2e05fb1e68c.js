(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[99],{4469:function(e,t,r){Promise.resolve().then(r.bind(r,5530))},7447:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{unstable_getImgProps:function(){return c},default:function(){return o}});let n=r(1024),i=r(8630),s=r(6184),a=r(1749),l=n._(r(536)),c=e=>{(0,s.warnOnce)("Warning: unstable_getImgProps() is experimental and may change or be removed at any time. Use at your own risk.");let{props:t}=(0,i.getImgProps)(e,{defaultLoader:l.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}},o=a.Image},5530:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return N}});var n=r(7437),i=r(2265);function s(e){let{isCameraOn:t,isAudioOn:r}=e,s=(0,i.useRef)(null),a=(0,i.useCallback)(async()=>{try{let e=await navigator.mediaDevices.getUserMedia({audio:r,video:t});s.current&&(s.current.srcObject=t?e:null)}catch(e){console.log(e)}},[t,r]);return(0,i.useEffect)(()=>{a()},[a]),(0,n.jsx)("div",{className:"relative",children:(0,n.jsx)("div",{className:"bg-black rounded-2xl w-[72rem] h-[44rem]",children:(0,n.jsx)("video",{ref:s,autoPlay:!0,className:"rounded-2xl size-full -scale-x-100 object-cover"})})})}var a=r(6691),l=r.n(a),c=r(42);function o(e){let{nickname:t,setNickname:r,isValid:i,setIsValid:s}=e,a=()=>{0===t.length||t.length>10?s(!1):s(!0)};return(0,n.jsxs)("div",{className:"",children:[(0,n.jsxs)("div",{className:"flex items-center mb-4",children:[(0,n.jsx)(l(),{src:c.default,width:24,height:28,alt:"방 입장 닉네임",className:"-scale-x-100 -rotate-12"}),(0,n.jsx)("p",{className:"text-3xl font-medium ml-2",children:"방 입장 닉네임"})]}),(0,n.jsx)("input",{type:"text",placeholder:"10자 이내로 입력해 주세요",value:t,className:"text-3xl font-light placeholder:truncate border rounded-[2rem] px-6 py-3 focus:outline-none\n        ".concat(i?"focus:border-sky-400 focus:ring-1 focus:ring-sky-400":"focus:border-rose-400 focus:ring-1 focus:ring-rose-400 border-rose-500"),onChange:e=>{a(),r(e.target.value)}}),(0,n.jsx)("p",{className:"text-rose-600 text-lg mt-2 ml-6 ".concat(i?"hidden":"block"),children:"닉네임은 1자 이상 10자 이하로 입력해 주세요!"})]})}var u=r(4033),d=r(2173);let h=r(5566).env.NEXT_PUBLIC_BASE_URL;d.Z.create({baseURL:"".concat(h)});let m=d.Z.create({baseURL:"".concat(h,"/member")});d.Z.create({baseURL:"".concat(h,"/movie")}),d.Z.create({baseURL:"".concat(h,"/room")}),d.Z.create({baseURL:"".concat(h,"/script")});let f=async(e,t)=>(await m.post("/guest",{address:t,nickName:e},{headers:{"Content-Type":"application/json"}})).data,g=(e,t)=>{sessionStorage.setItem("isCameraOn",JSON.stringify(e)),sessionStorage.setItem("isAudioOn",JSON.stringify(t))};var A=r(3254);let x=i.forwardRef(function({title:e,titleId:t,...r},n){return i.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":t},r),e?i.createElement("title",{id:t},e):null,i.createElement("path",{fillRule:"evenodd",d:"M4.5 5.653c0-1.427 1.529-2.33 2.779-1.643l11.54 6.347c1.295.712 1.295 2.573 0 3.286L7.28 19.99c-1.25.687-2.779-.217-2.779-1.643V5.653Z",clipRule:"evenodd"}))});function b(e){let{nickname:t,isValid:r,isCameraOn:i,isAudioOn:s}=e,a=(0,u.useRouter)(),c=async()=>{try{let e=o();if(null===e)throw Error("유효하지 않은 주소");let r=await f(t,e);g(i,s),a.push("/playroom/".concat(e,"?guestid=").concat(r.data.guestId))}catch(e){console.error("게스트 등록 실패",e)}},o=()=>{let e=window.location.search;return new URLSearchParams(e).get("address")};return(0,n.jsxs)("button",{type:"button",className:"relative z-0 bg-white hover:bg-gray-100 rounded-[4rem] w-auto h-32 ml-20 shadow group",onClick:()=>{console.log(t),r?c():console.log("유효하지 않은 닉네임")},children:[(0,n.jsxs)("div",{className:"flex items-center ml-20 mr-8",children:[(0,n.jsx)("p",{className:"text-4xl text-highlight font-extrabold tracking-wide",children:"가자!"}),(0,n.jsx)(x,{className:"fill-main size-6 ml-2"})]}),(0,n.jsx)("div",{className:"absolute bottom-3 left-[-4.5rem] group-hover:animate-bounce",children:(0,n.jsx)(l(),{src:A.default,width:90,height:90,alt:"방 생성 버튼"})})]})}var w={src:"/_next/static/media/VideoIcon.a1fa5a0b.svg",height:96,width:96,blurWidth:0,blurHeight:0},p={src:"/_next/static/media/VideoOffIcon.e063a311.svg",height:96,width:96,blurWidth:0,blurHeight:0},v={src:"/_next/static/media/MicIcon.c340cf7a.svg",height:96,width:96,blurWidth:0,blurHeight:0},j={src:"/_next/static/media/MicOffIcon.e08904f1.svg",height:96,width:96,blurWidth:0,blurHeight:0};function y(e){let{isCameraOn:t,setCameraOn:r,isAudioOn:i,setAudioOn:s}=e,a="rounded-[2rem] bg-main px-6 py-2 m-1 hover:bg-maindark";return(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsxs)("div",{className:"flex items-center mb-4",children:[(0,n.jsx)(l(),{src:c.default,width:24,height:28,alt:"카메라/마이크 설정",className:"-scale-x-100 -rotate-12"}),(0,n.jsx)("p",{className:"text-3xl font-medium ml-2",children:"카메라/마이크 설정"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("button",{onClick:()=>{r(e=>!e)},className:a,children:t?(0,n.jsx)(l(),{src:w,width:32,height:32,alt:"카메라 끄기"}):(0,n.jsx)(l(),{src:p,width:32,height:32,alt:"카메라 켜기"})}),(0,n.jsx)("button",{onClick:()=>{s(e=>!e)},className:a,children:i?(0,n.jsx)(l(),{src:v,width:32,height:32,alt:"마이크 끄기"}):(0,n.jsx)(l(),{src:j,width:32,height:32,alt:"마이크 켜기"})})]})]})}function N(){let[e,t]=(0,i.useState)(""),[r,a]=(0,i.useState)(!0),[l,c]=(0,i.useState)(!0),[u,d]=(0,i.useState)(!0);return(0,n.jsxs)("div",{className:"flex justify-center m-48",children:[(0,n.jsx)(s,{isCameraOn:l,isAudioOn:u}),(0,n.jsxs)("div",{className:"flex flex-col justify-between items-end   rounded-2xl border-4 border-dashed border-mainsky   h-[44rem] px-8 py-12 ml-8",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 gap-12",children:[(0,n.jsx)(o,{nickname:e,setNickname:t,isValid:r,setIsValid:a}),(0,n.jsx)(y,{isCameraOn:l,setCameraOn:c,isAudioOn:u,setAudioOn:d})]}),(0,n.jsx)(b,{nickname:e,isValid:r,isCameraOn:l,isAudioOn:u})]})]})}},42:function(e,t,r){"use strict";r.r(t),t.default={src:"/_next/static/media/YellowPinIcon.568eeb42.png",height:472,width:440,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAcAAAAICAMAAAAC2hU0AAAAS1BMVEXUiADMjAHUkwHSjgDoogHTlAPIjg7QkQH0rwKnkmLnpAK1fwHhnwLLjAHvqgLamQK/hgTOjwChj2+0jTXVkADZlwLemwL+uALSlxLeVYT4AAAAFnRSTlMBRs4i/pXw/v4Sa4Tbu7HDvF5H84jqqjGyvwAAAAlwSFlzAAAOwwAADsMBx2+oZAAAADlJREFUeJwFwQkCgCAIAMFVUaC7LPT/L20GoLbqQNGwA1hVTEiXxrCdLzTGAnm22BxSn3IC/rz5hh85EAIB42FGnwAAAABJRU5ErkJggg==",blurWidth:7,blurHeight:8}},3254:function(e,t,r){"use strict";r.r(t),t.default={src:"/_next/static/media/YellowPlanetIcon.41817a34.png",height:385,width:518,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAGCAMAAADJ2y/JAAAAb1BMVEXqu0AvUKn9zUdzWBXSpQBaTjNHUXBtbUhicJrInjF0c3SbeCLCroCAb0f612qZfTSBaC/XskXGoD3/41JvhMH942yoiDssR5wrRI0bKlpLbMEuYu96iKr4z03BrWbVumlBcfI8aNvZrj1hXVf/9GcqFrlZAAAAInRSTlP6nfqZDvrsAv7+/vr9o/6S2U2E+/z+ODm0ZWwxS53w/Ljcd8uigAAAAAlwSFlzAAAOwwAADsMBx2+oZAAAADxJREFUeJwFwYcBgCAQALEDgQcb9t51/xlNEGnQ+7JSx0f333EzVIGyPS9mmwXybmNyb+p9YRiVcjYx8gNVSALMhdw9NgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:6}},6691:function(e,t,r){e.exports=r(7447)},4033:function(e,t,r){e.exports=r(5313)},5566:function(e){var t,r,n,i=e.exports={};function s(){throw Error("setTimeout has not been defined")}function a(){throw Error("clearTimeout has not been defined")}function l(e){if(t===setTimeout)return setTimeout(e,0);if((t===s||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:s}catch(e){t=s}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var c=[],o=!1,u=-1;function d(){o&&n&&(o=!1,n.length?c=n.concat(c):u=-1,c.length&&h())}function h(){if(!o){var e=l(d);o=!0;for(var t=c.length;t;){for(n=c,c=[];++u<t;)n&&n[u].run();u=-1,t=c.length}n=null,o=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function f(){}i.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new m(e,t)),1!==c.length||o||l(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=f,i.addListener=f,i.once=f,i.off=f,i.removeListener=f,i.removeAllListeners=f,i.emit=f,i.prependListener=f,i.prependOnceListener=f,i.listeners=function(e){return[]},i.binding=function(e){throw Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw Error("process.chdir is not supported")},i.umask=function(){return 0}}},function(e){e.O(0,[749,580,971,938,744],function(){return e(e.s=4469)}),_N_E=e.O()}]);